{"version":3,"file":"js/331.2c94d975.js","mappings":"kNAMO,MAAMA,GAAkBC,EAAAA,EAAAA,IAAY,gBAAgB,MACrCC,EAAAA,EAAAA,IAAS,CACvB,CACIC,GAAI,EACJC,KAAM,UACNC,MAAO,GACPC,MAAO,UACPC,IAAK,6BAET,CAEIJ,GAAI,EACJC,KAAM,YACNC,MAAO,GACPC,MAAO,UACPC,IAAK,iCAET,CAEIJ,GAAI,EACJC,KAAM,YACNC,MAAO,GACPC,MAAO,UACPC,IAAK,4BAET,CAEIJ,GAAI,EACJC,KAAM,MACNC,MAAO,GACPC,MAAO,UACPC,IAAK,6BA9Bb,MAiCMC,GAAgBN,EAAAA,EAAAA,IAAS,IAOzBO,IANeP,EAAAA,EAAAA,IAAS,CAC1B,CACIC,GAAG,EACHC,KAAK,eAGOF,EAAAA,EAAAA,IAAS,MAClBQ,EAAAA,EAAAA,MACAC,EAAAA,EAAAA,MAEXC,EAAAA,EAAAA,KAAUC,gBACAC,IACNC,GAAkB,IAGtB,MAAMD,EAAmBD,YAUnBE,EAAmBA,KACrBN,EAAYO,OAAS,EACrBR,EAAcS,SAAQJ,UAClB,MAAMK,QAAiBC,EAAAA,EAAIC,QAAS,WAAUC,EAAKlB,MACzB,kBAAde,GAA0BA,EAASF,OAAS,GACpDP,EAAYa,KAAK,CACbD,KAAMH,EAAS,GACfK,MAAOL,EAAS,IAExB,GACF,EAoBN,MAAO,CACHV,gBACAC,cAEH,G,4LC3FCe,GAAWb,EAAAA,EAAAA,K,0OCHjB,MAAMc,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,oICPSC,MAAM,c,UACPC,EAAAA,EAAAA,GAAW,sB,UACXA,EAAAA,EAAAA,GAAW,sB,GADXC,EACAC,G,kCAFJC,EAAAA,EAAAA,IAGM,MAHNC,EAGMC,E,aCHV,MAAMC,EAAS,CAAC,EAKVR,GAA2B,OAAgBQ,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,mbC6BA,MAAMV,GAAWb,EAAAA,EAAAA,KAEXwB,IADUnC,EAAAA,EAAAA,MACFoC,EAAAA,EAAAA,QACdC,EAAAA,EAAAA,KAAY,KACLF,EAAMG,OAAOC,UAChBf,EAASgB,SAAU,EACrB,IAGF,MAAMC,EAAqBC,IACzBlB,EAASmB,eAAeD,EAAIE,KAAKzC,GAAIuC,EAAIG,QAAQ,E,uqBCzCnD,MAAMpB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://tasker/./src/stores/imageDBStore.js","webpack://tasker/./src/components/UI/ListHeader.vue","webpack://tasker/./src/components/UI/ListHeader.vue?cd4d","webpack://tasker/./src/components/UI/Loader.vue","webpack://tasker/./src/components/UI/Loader.vue?fb91","webpack://tasker/./src/views/PersonalListView.vue","webpack://tasker/./src/views/PersonalListView.vue?4f90"],"sourcesContent":["import { defineStore } from 'pinia';\nimport {onMounted, reactive, ref} from \"vue\";\nimport {useBigMenuStore} from \"@/stores/BigMenuStore\";\nimport {useListViewStore} from \"@/stores/ListViewStore\";\nimport api from '@/api';\n\nexport const useImageDBStore = defineStore('ImageDBStore', () => {\n    const sortLists = reactive([\n        {\n            id: 1,\n            name: 'Сегодня',\n            count: '',\n            color: '#4ceba7',\n            url: '/workspace/sortList=today'\n        },\n        {\n\n            id: 2,\n            name: 'С флажком',\n            count: '',\n            color: '#e76262',\n            url: '/workspace/sortList=with_flag'\n        },\n        {\n\n            id: 3,\n            name: 'Завершено',\n            count: '',\n            color: '#daadad',\n            url: '/workspace/sortList=done'\n        },\n        {\n\n            id: 4,\n            name: 'Все',\n            count: '',\n            color: '#c4c4c4',\n            url: '/workspace/sortList=all'\n        },\n    ]);\n    const personalLists = reactive([]);\n    const personalTags = reactive([\n        {\n            id:0,\n            name:'Все теги'\n        }\n    ]);\n    const tasksByList = reactive([]);\n    const bm = useBigMenuStore();\n    const lv = useListViewStore();\n\n    onMounted(async () => {\n        await getPersonalLists();\n        getTasksForLists();\n    })\n\n    const getPersonalLists = async () => {\n        /*const response = await api.getInfo('lists');\n        if ((typeof response) === \"object\" && response.length > 0) {\n            personalLists.length = 0;\n            response.forEach(item => {\n                personalLists.push(item);\n            });\n        }*/\n    };\n\n    const getTasksForLists = () => {\n        tasksByList.length = 0;\n        personalLists.forEach(async list => {\n            const response = await api.getInfo(`list?id=${list.id}`);\n            if ((typeof response) === \"object\" && response.length > 0) {\n                tasksByList.push({\n                    list: response[0],\n                    tasks: response[1],\n                });\n            }\n        });\n    };\n\n    /*const addNewTask = () => {\n        tasksByList.forEach((tbl) => {\n            if (lv.listInfo.id  === tbl.list.id) {\n                tbl.tasks.push({\n                    id_list: tbl.list.id,\n                    name: null,\n                    description: null,\n                    deadline: null,\n                    is_done: 0,\n                    is_flagged: 0,\n                    url: null,\n                    priority: null,\n                });\n            }\n        });\n    };*/\n\n    return {\n        personalLists,\n        tasksByList,\n       // addNewTask\n    };\n});\n","<template>\n  <h2 class=\"list-header\" :style=\"{color: props.color, fontSize: props.fontSize}\">\n    <slot/><Loader v-if=\"listView.loadingSmall\"/>\n  </h2>\n</template>\n\n<script setup>\nimport Loader from \"@/components/UI/Loader.vue\";\nimport {useListViewStore} from \"@/stores/ListViewStore\";\nconst listView = useListViewStore();\nconst props = defineProps({\n  color: String,\n  fontSize: String,\n})\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"../../assets/styles/global.scss\";\n  .list-header {\n    font-size: 35px;\n    color: #c4c4c4;\n    position: sticky;\n    top: 0;\n    background-color: $tasker;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 15px 20px 0 20px;\n    z-index: 1;\n  }\n</style>\n","import script from \"./ListHeader.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ListHeader.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ListHeader.vue?vue&type=style&index=0&id=4ddaa2ab&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4ddaa2ab\"]])\n\nexport default __exports__","<template>\n    <div class=\"lds-ripple\">\n        <div></div>\n        <div></div>\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n    .lds-ripple {\n    display: inline-block;\n    position: relative;\n    width: 26px;\n    height: 26px;\n    }\n    .lds-ripple div {\n    position: absolute;\n    border: 1px solid #aaadae;\n    opacity: 1;\n    border-radius: 50%;\n    animation: lds-ripple 1s cubic-bezier(0, 0.5, 0.8, 1) infinite;\n    }\n    .lds-ripple div:nth-child(2) {\n    animation-delay: -0.5s;\n    }\n    @keyframes lds-ripple {\n        0% {\n            top: 13px;\n            left: 13px;\n            width: 0;\n            height: 0;\n            opacity: 0;\n        }\n        4.9% {\n            top: 13px;\n            left: 13px;\n            width: 0;\n            height: 0;\n            opacity: 0;\n        }\n        5% {\n            top: 13px;\n            left: 13px;\n            width: 0;\n            height: 0;\n            opacity: 1;\n        }\n        100% {\n            top: 0px;\n            left: 0px;\n            width: 26px;\n            height: 26px;\n            opacity: 0;\n        }\n    }\n</style>","import { render } from \"./Loader.vue?vue&type=template&id=58bd569a&scoped=true\"\nconst script = {}\n\nimport \"./Loader.vue?vue&type=style&index=0&id=58bd569a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-58bd569a\"]])\n\nexport default __exports__","<template>\n  <Transition mode=\"out-in\" name=\"fade\">\n\n    <LoaderBig v-if=\"listView.loading\"/>\n\n    <SomethingWrong v-else-if=\"listView.is_somethingWrong\"/>\n\n    <div class=\"workspace\" v-else>\n      <ListHeader :color=\"listView.listInfo.color\">{{ listView.listInfo.name }}</ListHeader>\n      <div class=\"task__container scroll\">\n        <Task\n            v-for=\"task in listView.tasks\"\n            :key=\"task.key\"\n            :task=\"task\"\n            :color=\"listView.listInfo.color\"\n            :is_new=\"false\"\n            @done=\"taskSlideToBottom\"\n            v-if=\"listView.tasks.length\"\n        />\n        <div class=\"empty-list__title\" v-else><p>Здесь пусто.</p></div>\n      </div>\n    </div>\n\n  </Transition>\n</template>\n\n<script setup>\nimport\n{ useListViewStore } from \"@/stores/ListViewStore\";\nimport {useImageDBStore} from \"@/stores/imageDBStore\";\nimport ListHeader from \"@/components/UI/ListHeader.vue\";\nimport SomethingWrong from \"@/components/UI/SomethingWrong.vue\";\nimport Task from \"@/components/UI/Task.vue\";\nimport LoaderBig from \"@/components/UI/LoaderBig.vue\";\nimport {watchEffect} from \"vue\";\nimport {useRoute} from \"vue-router\";\n\nconst listView = useListViewStore();\nconst imageDB = useImageDBStore();\nconst route = useRoute();\nwatchEffect(() => {\n  if (!route.params.id_list) {\n    listView.loading = true;\n  }\n});\n\nconst taskSlideToBottom = (obj) => {\n  listView.updateTaskDone(obj.task.id, obj.is_done);\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.workspace {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  grid-gap: 20px;\n}\n.task__container {\n  width: 100%;\n  padding: 0 20px;\n  flex: 1 0 100px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  //grid-gap: 20px;\n}\n.empty-list__title {\n  flex: 1 0 100px;\n  font-size: 20px;\n  color: #c4c4c4;\n  display: flex;\n  align-items: center;\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.25s ease-out;\n}\n\n.fade-enter-from {\n  opacity: 0;\n}\n\n.fade-leave-to {\n  opacity: 0;\n}\n</style>\n","import script from \"./PersonalListView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PersonalListView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PersonalListView.vue?vue&type=style&index=0&id=1be1a1a7&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1be1a1a7\"]])\n\nexport default __exports__"],"names":["useImageDBStore","defineStore","reactive","id","name","count","color","url","personalLists","tasksByList","useBigMenuStore","useListViewStore","onMounted","async","getPersonalLists","getTasksForLists","length","forEach","response","api","getInfo","list","push","tasks","listView","__exports__","class","_createElementVNode","_hoisted_2","_hoisted_3","_createElementBlock","_hoisted_1","_hoisted_4","script","render","route","useRoute","watchEffect","params","id_list","loading","taskSlideToBottom","obj","updateTaskDone","task","is_done"],"sourceRoot":""}